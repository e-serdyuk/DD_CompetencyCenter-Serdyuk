<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" ng-app="myApp">
<head>
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
    <title>Task2</title>
    <script>
/*### Задача 2  
Создайте сервис из предыдущей задачи, используя метод провайдера.*/

        var app = angular.module('myApp', [])
        var clickCounter = 1;
            app.provider('clickCounter', function () {
            return {
                $get: function () {
                    return function (msg) {
                        console.log(msg+clickCounter);
                        clickCounter++;
                    };
                }
            }
        })
       .controller('mainCtrl', function ($scope, clickCounter) {
        $scope.msg = 'Button clicked: ';
           $scope.countClicks = function () {
                clickCounter($scope.msg);
           };
        })
    </script>
</head>
<body ng-controller="mainCtrl">
    <div>
        <input type="button"  value="click me" ng-click="countClicks()">
    </div>
</body>
</html>